<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Prez</title>

    <meta name="description" content="-- DESCRIPTION HERE --">
    <meta name="author" content="swiftone">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="css/highlight/styles/zenburn.css" id="highlight-theme">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <link rel="stylesheet" href="css/custom.css">

  </head>

  <body>

    <div class="reveal">
      <div class="slides"><section id="chapter-example" class="chapter">
<section id="example-overview" class="slide" data-has-notes="false">
<h1>How to create State</h1><p>React Component functions run each time we render</p>
<ul>
<li>How do we get variables with persistent values?</li>
<li><strong>hooks</strong>!<ul>
<li>Outside functions to read/write state changes</li>
</ul>
</li>
<li>JSX <strong>renders with current state</strong></li>
<li>Event listeners (using onEVENT) <strong>update state</strong></li>
<li>JSX <strong>automatically rerenders</strong> when state changes</li>
</ul>
</section>

<section id="example-input-example" class="slide" data-has-notes="false">
<h1>State Example</h1><pre><code class="lang-jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>);
    <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"card"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
            <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount((count) =&gt; count + 1)}
        &gt;
          count is {count}
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;
</code></pre>
</section>

<section id="example-import" class="slide" data-has-notes="false">
<h1>SO MUCH - import</h1><pre><code class="lang-js"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
</code></pre>
<p>A <strong>named import</strong> from the React library</p>
<ul>
<li>No path on the name <ul>
<li><code>from &#39;react&#39;;</code> not <code>from &#39;./react&#39;;</code></li>
</ul>
</li>
</ul>
</section>

<section id="example-destructure" class="slide" data-has-notes="false">
<h1>SO MUCH - array destructure</h1><p><code>const [count, setCount] = useState(0);</code></p>
<p><code>useState()</code> returns an array</p>
<p>Above code is the same as:</p>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> returnedArray = useState(<span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> count = returnedArray[<span class="hljs-number">0</span>]; <span class="hljs-comment">// value from state</span>
<span class="hljs-keyword">const</span> setCount = returnedArray[<span class="hljs-number">1</span>]; <span class="hljs-comment">// setter function</span>
</code></pre>
<p><code>useState()</code> <em>always</em> returns array of two values</p>
<ul>
<li>We <strong>destructure</strong> to declare and assign 2 variables</li>
</ul>
</section>

<section id="example-use-state" class="slide" data-has-notes="false">
<h1>SO MUCH - useState returns</h1><p><code>useState()</code> always returns array of two values:</p>
<ul>
<li><strong>value from state</strong></li>
<li><strong>setter function</strong></li>
</ul>
<p>Value is: </p>
<ul>
<li>The current value of this state</li>
<li>If NEVER set, uses value passed to <code>useState()</code></li>
<li><code>useState()</code> param ignored after first use</li>
</ul>
</section>

<section id="example-on-click" class="slide" data-has-notes="false">
<h1>SO MUCH - onClick</h1><pre><code>&lt;button 
    onClick={() =&gt; setCount((<span class="hljs-built_in">count</span>) =&gt; <span class="hljs-built_in">count</span> + <span class="hljs-number">1</span>)}
&gt;
    <span class="hljs-built_in">count</span> <span class="hljs-keyword">is</span> {<span class="hljs-built_in">count</span>}
&lt;/button&gt;
</code></pre><p>Let&#39;s simplify to better understand:</p>
<pre><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=</span></span><span class="hljs-template-variable">{() =&gt; setCount(count + 1)}</span><span class="xml"><span class="hljs-tag"> &gt;</span>
    count is </span><span class="hljs-template-variable">{count}</span><span class="xml">
<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</span>
</code></pre>
</section>

<section id="example-simplified-on-click" class="slide" data-has-notes="false">
<h1>Simplified onClick</h1><pre><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=</span></span><span class="hljs-template-variable">{() =&gt; setCount(count + 1)}</span><span class="xml"><span class="hljs-tag"> &gt;</span>
    count is </span><span class="hljs-template-variable">{count}</span><span class="xml">
<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
</code></pre><ul>
<li><code>count is {count}</code> will show &quot;current&quot; <code>count</code></li>
<li><code>onClick()</code> is passed a callback handler function<ul>
<li>Just like a <code>click</code> event listener</li>
</ul>
</li>
<li>Handler function calls <code>setCount()</code> </li>
<li><code>setCount()</code> changes stored state value</li>
<li>Triggers (queues) re-render<ul>
<li>&quot;render&quot; calls this component function again</li>
</ul>
</li>
</ul>
</section>

<section id="example-passing-function-wrapper" class="slide" data-has-notes="false">
<h1>Notice the difference here</h1><pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)} &gt; /* FINE*/
    count is {count}
<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<ul>
<li><code>onClick</code> is passed a function callback to call</li>
<li><code>setCount()</code> called <strong>when</strong> that callback is called</li>
</ul>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{setCount(count</span> + <span class="hljs-attr">1</span>)} &gt;</span> /* BAD */
    count is {count} 
<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<ul>
<li><code>onClick()</code> passed result of calling <code>setCount()</code></li>
<li><code>setCount()</code> called <strong>immediately</strong> (during render)</li>
<li><code>setCount()</code> triggers rerender, calls <code>setCount()</code></li>
<li>Web app crashes (infinite loop)</li>
</ul>
</section>

<section id="example-function-wrapper" class="slide" data-has-notes="false">
<h1>Passing Function Wrapper</h1><ul>
<li><strong>Event handlers are passed a function to run</strong><ul>
<li>Just like <code>.addEventListener</code></li>
</ul>
</li>
<li>NOT result of calling a function immediately</li>
</ul>
<pre><code><span class="hljs-comment">/* Correct Version: */</span>
&lt;button onClick={() =&gt; setCount(<span class="hljs-built_in">count</span> + <span class="hljs-number">1</span>)} &gt;
    <span class="hljs-built_in">count</span> <span class="hljs-keyword">is</span> {<span class="hljs-built_in">count</span>}
&lt;/button&gt;

<span class="hljs-comment">/* Bad Version: */</span>
&lt;button onClick={setCount(<span class="hljs-built_in">count</span> + <span class="hljs-number">1</span>)} &gt;
    <span class="hljs-built_in">count</span> <span class="hljs-keyword">is</span> {<span class="hljs-built_in">count</span>}
&lt;/button&gt;
</code></pre>
</section>

<section id="example-rerender" class="slide" data-has-notes="false">
<h1>SO MUCH - automatic rerender</h1><p><code>setCount()</code> changes the value of <code>count</code> in state</p>
<ul>
<li>Page shows changed HTML/text!</li>
</ul>
<p>When a state setter function is called</p>
<ul>
<li>Output <strong>automatically</strong> re-renders</li>
</ul>
</section>

<section id="example-when-state-change" class="slide" data-has-notes="false">
<h1>When does state variable change?</h1><pre><code>function <span class="hljs-keyword">App</span>() { 
    <span class="hljs-keyword">const</span> [<span class="hljs-keyword">count</span>, setState] = useState(0);

    console.<span class="hljs-built_in">log</span>(<span class="hljs-string">"on render"</span>, <span class="hljs-keyword">count</span>);

    <span class="hljs-keyword">return</span> (
        &lt;button onClick={ () =&gt; {
            console.<span class="hljs-built_in">log</span>(<span class="hljs-string">"before setter"</span>, <span class="hljs-keyword">count</span>);
            setCount(<span class="hljs-keyword">count</span> + 1);
            console.<span class="hljs-built_in">log</span>(<span class="hljs-string">"after setter"</span>, <span class="hljs-keyword">count</span>);
        }} &gt;
            <span class="hljs-keyword">count</span> is {<span class="hljs-keyword">count</span>}
        &lt;/button&gt;
    );
}
</code></pre><pre><code><span class="hljs-keyword">on</span> render <span class="hljs-number">0</span>
<span class="hljs-keyword">before</span> setter <span class="hljs-number">0</span>
<span class="hljs-keyword">after</span> setter <span class="hljs-number">0</span>
<span class="hljs-keyword">on</span> render <span class="hljs-number">1</span>
</code></pre>
</section>

<section id="example-state-update" class="slide" data-has-notes="false">
<h1>Important State Update Confusion!</h1><p><code>setCount()</code> does NOT change <code>count</code></p>
<pre><code class="lang-jsx">&lt;button 
  onClick={() =&gt; {
      setCount(count + <span class="hljs-number">1</span>);
      <span class="hljs-built_in">console</span>.log(count);
  }}
&gt;
  count is {count}
&lt;<span class="hljs-regexp">/button&gt;</span>
</code></pre>
<ul>
<li><code>console.log()</code> shows that <code>count</code> didn&#39;t change!</li>
<li>But page shows that <code>count</code> DID change?!</li>
</ul>
</section>

<section id="example-state-not-in-component" class="slide" data-has-notes="false">
<h1>State isn&#39;t actually IN component</h1><ul>
<li>Component function called after state changes</li>
<li>Component <strong>gets a copy of state</strong> from <code>useState()</code></li>
<li>Setter updates state <strong>outside of component</strong><ul>
<li>Queues up new call to component function<ul>
<li>To render HTML</li>
</ul>
</li>
<li>Doesn&#39;t happen until current code finishes</li>
<li>Copies of state values are STALE until then</li>
</ul>
</li>
<li><a href="https://react.dev/reference/react/useState#ive-updated-the-state-but-logging-gives-me-the-old-value">https://react.dev/reference/react/useState#ive-updated-the-state-but-logging-gives-me-the-old-value</a></li>
</ul>
</section>

<section id="example-passing-function-to-setter" class="slide" data-has-notes="false">
<h1>Passing a function to a setter?</h1><p>What does this mean?</p>
<ul>
<li><code>setCount((count) =&gt; count + 1)</code></li>
</ul>
<p>Consider:</p>
<pre><code>&lt;button onClick={() =&gt; { 
    setCount(<span class="hljs-built_in">count</span> + <span class="hljs-number">1</span>);
    setCount(<span class="hljs-built_in">count</span> + <span class="hljs-number">1</span>);
}} &gt;
  <span class="hljs-built_in">count</span> <span class="hljs-keyword">is</span> {<span class="hljs-built_in">count</span>}
&lt;/button&gt;
</code></pre><ul>
<li>Page shows count only going + 1</li>
<li>Because <code>count</code> is a stale copy of state</li>
</ul>
</section>

<section id="example-why-pass-setter-function" class="slide" data-has-notes="false">
<h1>Why pass a function to a state setter</h1><p>You can pass a value to a state setter</p>
<ul>
<li><code>setState(count + 1)</code></li>
<li>Value will be new value for state</li>
</ul>
<p>You can also pass a function to a state setter</p>
<ul>
<li><code>setState( (count) =&gt; count + 1 )</code></li>
<li>Passed function is itself passed current state value<ul>
<li>ACTUAL current value of state, not copy</li>
</ul>
</li>
<li>Passed function should return new value for state</li>
</ul>
</section>

<section id="example-function-to-setter-results" class="slide" data-has-notes="false">
<h1>Results of passing function to setter</h1><pre><code class="lang-jsx">&lt;button onClick={ () =&gt; { 
    setCount( <span class="hljs-function"><span class="hljs-params">count</span> =&gt;</span> count + <span class="hljs-number">1</span>);
    setCount( <span class="hljs-function"><span class="hljs-params">current</span> =&gt;</span> current + <span class="hljs-number">1</span>);
}} &gt;
  count is {count}
&lt;<span class="hljs-regexp">/button&gt;</span>
</code></pre>
<ul>
<li>Now increases by 2</li>
<li>Functions were passed ACTUAL value of state<ul>
<li>Not the possibly stale copy that is <code>count</code></li>
</ul>
</li>
<li>param name in passed function just a name<ul>
<li>In its own scope</li>
<li>That&#39;s why <code>current</code> still changed <code>count</code> state</li>
<li>Using same (<code>count</code>) common, but confusing</li>
</ul>
</li>
</ul>
</section>
</section>

<section id="chapter-input-example" class="chapter">
<section id="input-example-overview" class="slide" data-has-notes="false">
<h1>Another example</h1><p>State values can be any value, not just numbers!</p>
<p>Let&#39;s consider an example with text</p>
</section>

<section id="input-example-input-example" class="slide" data-has-notes="false">
<h1>Input Example</h1><pre><code class="lang-jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> [name, setName] = useState(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Last name seen was {name}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Name: <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
          <span class="hljs-attr">value</span>=<span class="hljs-string">{name}</span> 
          <span class="hljs-attr">onInput</span>=<span class="hljs-string">{</span> (<span class="hljs-attr">e</span>) =&gt;</span> setName(e.target.value) }
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;
</code></pre>
</section>

<section id="input-example-on-input" class="slide" data-has-notes="false">
<h1>SO MUCH - onInput</h1><pre><code>&lt;input 
  value={name} 
  onInput={<span class="hljs-function"> (<span class="hljs-params">e</span>) =&gt;</span> set<span class="hljs-constructor">Name(<span class="hljs-params">e</span>.<span class="hljs-params">target</span>.<span class="hljs-params">value</span>)</span> }
/&gt;
</code></pre><ul>
<li><code>name</code> will always be latest value</li>
<li><code>onInput()</code> runs whenever there is typing<ul>
<li><code>input</code> event</li>
<li>Including backspace/delete</li>
</ul>
</li>
<li><code>e.target</code> is the input field here</li>
<li>Notice the self-closing input tag!<ul>
<li>JSX requires a close</li>
</ul>
</li>
</ul>
</section>

<section id="input-example-put-together" class="slide" data-has-notes="false">
<h1>Putting the Parts together</h1><ul>
<li>When App() is called (when <code>&lt;App/&gt;</code> renders<ul>
<li><code>name</code> is set to <code>&#39;&#39;</code></li>
<li>HTML renders to the screen</li>
<li><code>&lt;input&gt;</code> has value <code>&#39;&#39;</code></li>
</ul>
</li>
<li>User types &#39;J&#39;<ul>
<li><code>onInput</code> callback fires<ul>
<li>calls <code>setName</code> with &#39;J&#39;</li>
</ul>
</li>
</ul>
</li>
<li>Change in state triggers rerender (App() is called)<ul>
<li><code>name</code> is set to &#39;J&#39;</li>
<li>HTML renders <code>&lt;input&gt;</code> with value = &#39;J&#39;</li>
</ul>
</li>
</ul>
</section>
</section>

<section id="chapter-state" class="chapter">
<section id="state-intro" class="slide" data-has-notes="false">
<h1>Why State?</h1><p>Remember the concept we are using</p>
<ul>
<li>State is variable(s) of values that can change</li>
<li><strong>Rendering</strong> is setting HTML based on state</li>
<li>Events will change state</li>
<li>After state changes, <strong>render</strong></li>
</ul>
<p>True both in React and in advanced plain JS SPAs</p>
<p>Every component defines part of HTML</p>
<ul>
<li>Based on state and props</li>
</ul>
</section>

<section id="state-example" class="slide" data-has-notes="false">
<h1>Revisit Example</h1><pre><code class="lang-jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> [name, setName] = useState(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Last name seen was {name}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Name: <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
          <span class="hljs-attr">value</span>=<span class="hljs-string">{name}</span> 
          <span class="hljs-attr">onInput</span>=<span class="hljs-string">{</span> (<span class="hljs-attr">e</span>) =&gt;</span> setName(e.target.value) }
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;
</code></pre>
</section>

<section id="state-component-output" class="slide" data-has-notes="false">
<h1>Component is output HTML</h1><ul>
<li>Based on current state/props</li>
<li>Defines event handlers</li>
<li>Event Handlers can change state<ul>
<li>Which would cause new <strong>render</strong></li>
<li>Which would reflect updated state</li>
</ul>
</li>
</ul>
</section>
</section>

<section id="chapter-double-example" class="chapter">
<section id="double-example-example" class="slide" data-has-notes="false">
<h1>More Example</h1><pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> [inProgress, setInProgress] = useState(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> [saved, setSaved] = useState(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Name in progress is {inProgress}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Last Saved name was {saved}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Name: <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
          <span class="hljs-attr">value</span>=<span class="hljs-string">{inProgress}</span> 
          <span class="hljs-attr">onInput</span>=<span class="hljs-string">{</span> (<span class="hljs-attr">e</span>) =&gt;</span> setInProgress(e.target.value) }
        /&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
          <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> 
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{</span> () =&gt;</span> setSaved(inProgress) }
        &gt;Save<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
</code></pre>
</section>

<section id="double-example-use-state-rules" class="slide" data-has-notes="false">
<h1>Two useState()s</h1><pre><code><span class="hljs-keyword">const</span> [inProgress, setInProgress] = useState(<span class="hljs-string">''</span>);
<span class="hljs-keyword">const</span> [saved, setSaved] = useState(<span class="hljs-string">''</span>);
</code></pre><p>Each <code>useState()</code> will track a separate value</p>
<ul>
<li>Order in file in meaningful</li>
<li>You can&#39;t put useState() inside an <code>if() {}</code></li>
</ul>
</section>

<section id="double-example-on-click" class="slide" data-has-notes="false">
<h1>Different State Updates</h1><pre><code>&lt;input 
  value={inProgress} 
  onInput={<span class="hljs-function"> (<span class="hljs-params">e</span>) =&gt;</span> set<span class="hljs-constructor">InProgress(<span class="hljs-params">e</span>.<span class="hljs-params">target</span>.<span class="hljs-params">value</span>)</span> }
/&gt;

&lt;button 
  <span class="hljs-keyword">type</span>=<span class="hljs-string">"button"</span> 
  onClick={<span class="hljs-function"> <span class="hljs-params">()</span> =&gt;</span> set<span class="hljs-constructor">Saved(<span class="hljs-params">inProgress</span>)</span> }
&gt;Save&lt;/button&gt;
</code></pre><ul>
<li>One &quot;as you type&quot;</li>
<li>One &quot;after you click&quot;</li>
</ul>
</section>

<section id="double-example-state-render-cycle" class="slide" data-has-notes="false">
<h1>See the State-Render cycle at work</h1><ul>
<li>We have State variables and props</li>
<li>The output HTML is based on the variables</li>
<li>User events change the state</li>
<li>Output HTML is automatically updated<ul>
<li>Based on new state</li>
</ul>
</li>
</ul>
<p>Trigger for render was the change in state</p>
<ul>
<li>Not the user event</li>
<li>User event was the trigger for the change in state</li>
</ul>
</section>
</section>

<section id="chapter-passing-state" class="chapter">
<section id="passing-state-where" class="slide" data-has-notes="false">
<h1>Each Component can have separate state</h1><pre><code class="lang-jsx"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>{ 
  <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count +1)}&gt;
        {count}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Counter</span>/&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
<span class="hljs-comment">// Counter.jsx</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Counter</span>(<span class="hljs-params"></span>) </span>{ 
  <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>); <span class="hljs-comment">// Entirely separate</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;
      {count}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}
</code></pre>
</section>

<section id="passing-state-instances" class="slide" data-has-notes="false">
<h1>Each Component &quot;instance&quot; is a separate state</h1><pre><code class="lang-jsx"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>{ 
  <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count +1)}&gt;
        {count}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Counter</span>/&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Counter</span>/&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Counter</span>/&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
</code></pre>
</section>

<section id="passing-state-passing-state" class="slide" data-has-notes="false">
<h1>Component cannot &quot;see&quot; state of parent</h1><p>But can be PASSED state of parent</p>
<pre><code class="lang-jsx"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>{ 
  <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count +1)}&gt;
        {count}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Matcher</span> <span class="hljs-attr">toMatch</span>=<span class="hljs-string">{count}/</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
<span class="hljs-comment">// Matcher.jsx</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Matcher</span>(<span class="hljs-params">{ toMatch }</span>) </span>{ 
  <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>); 
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;
      {count} { count === toMatch ? 'matches!': '' }
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}
</code></pre>
</section>

<section id="passing-state-setter" class="slide" data-has-notes="false">
<h1>Component cannot &quot;change&quot; outside state</h1><p>...unless passed a function to do so</p>
<pre><code class="lang-jsx"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>{ 
  <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count +1)}&gt;
        {count}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Tenify</span> <span class="hljs-attr">setCount</span>=<span class="hljs-string">{setCount}/</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
<span class="hljs-comment">// Tenify.jsx</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Tenify</span>(<span class="hljs-params">{ setCount }</span>) </span>{ 
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(10)}&gt;
      Tenify!
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}
</code></pre>
</section>

<section id="passing-state-wrapper" class="slide" data-has-notes="false">
<h1>You may define and pass a &quot;wrapper&quot; function</h1><pre><code class="lang-jsx"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>{ 
  <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count +1)}&gt;
        {count}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Doubler</span> <span class="hljs-attr">onDouble</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count * 2)}/&gt;
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
<span class="hljs-comment">// Doubler.jsx</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Doubler</span>(<span class="hljs-params">{ onDouble }</span>) </span>{ 
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onDouble}</span>&gt;</span>
      Double!
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}
</code></pre>
</section>

<section id="passing-state-soc-wrappers" class="slide" data-has-notes="false">
<h1>Notice the Decoupling!</h1><pre><code><span class="hljs-tag">&lt;<span class="hljs-name">Doubler</span> <span class="hljs-attr">onDouble</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count * 2)}/&gt;

/* vs */

<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onDouble}</span>&gt;</span>Double!<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre><ul>
<li>App doesn&#39;t know when <code>onDouble</code> is called<ul>
<li>That&#39;s up to <code>&lt;Doubler&gt;</code></li>
</ul>
</li>
<li>Doubler doesn&#39;t know what <code>onDouble</code> does<ul>
<li>It just calls it</li>
</ul>
</li>
<li>Double doesn&#39;t actually know/use App state<ul>
<li>But does effect it</li>
</ul>
</li>
<li><code>onDouble</code> isn&#39;t an Event Handler<ul>
<li>But similar logic: When this callback called</li>
</ul>
</li>
</ul>
</section>
</section>

<section id="chapter-rendering" class="chapter">
<section id="rendering-conditional" class="slide" data-has-notes="false">
<h1>Sophisticated Output</h1><p>React does not render <code>false</code>, <code>null</code>, or <code>undefined</code></p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
        Testing output
        { <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Test<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span> }
        { false }
        { null }
        { undefined }
        { NaN }
        { 0 }
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
</code></pre><p><code>&lt;p&gt;Test&lt;/p&gt;</code>, <code>NaN</code>, and <code>0</code> will render</p>
<ul>
<li><code>false</code>, <code>null</code>, <code>undefined</code> do NOT</li>
</ul>
</section>

<section id="rendering-short-circuit" class="slide" data-has-notes="false">
<h1>Using Logical Operators</h1><p>Remember how we said <code>&amp;&amp;</code> and <code>||</code> work?</p>
<ul>
<li>Return &quot;deciding&quot; left-side or right-side value</li>
</ul>
<p>Cannot use <code>if (condition)</code> inside JSX <code>{}</code></p>
<p>React does not render <code>false</code>, <code>null</code>, or <code>undefined</code></p>
<ul>
<li>Combine with <code>&amp;&amp;</code> or <code>||</code> inside <code>{}</code>!</li>
</ul>
<p>Alternatively, use <strong>conditional operator</strong> ( <code>? :</code> )</p>
<ul>
<li><code>{ condition ? &lt;p&gt;Was Truthy&lt;/p&gt; : &lt;p&gt;Was Falsy&lt;/p&gt; }</code></li>
</ul>
</section>

<section id="rendering-using-conditional" class="slide" data-has-notes="false">
<h1>Conditional Rendering</h1><p><strong>Conditional Rendering</strong> = Deciding what to show</p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> [count, setCount] = useState(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count is {count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;
        Increase
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      { count === 8 &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"wild"</span>&gt;</span>8!!!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
      { count ? <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count is truthy<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span> : null}
      { count &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Dang that 0!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span> } 
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
</code></pre>
</section>

<section id="rendering-will-render" class="slide" data-has-notes="false">
<h1>0/NaN WILL render!</h1><p><strong>Conditional Rendering</strong> is great</p>
<ul>
<li>But remember <strong>some falsy values WILL render</strong></li>
<li>Notably <code>0</code> and <code>NaN</code></li>
<li>Option: Use conditional operator</li>
<li>Option: Convert to boolean</li>
</ul>
<pre><code><span class="hljs-comment">// Bad!</span>
{ messages.length &amp;&amp; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>You've got mail!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span> }
<span class="hljs-comment">// Good!</span>
{ messages.length !== <span class="hljs-number">0</span> &amp;&amp; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>You've got mail!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>}
{ !!messages.length &amp;&amp; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>You've got mail!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>}
{ messages.length ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>You've got mail!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span> : <span class="hljs-literal">null</span> }
</code></pre>
</section>
</section>

<section id="chapter-composing-content" class="chapter">
<section id="composing-content-pages" class="slide" data-has-notes="false">
<h1>Conditional Rendering of &quot;Pages&quot;</h1><ul>
<li>SPA is a &quot;single page&quot;</li>
<li>We can change content</li>
<li>Sometimes a little content</li>
<li>Sometimes a lot of content</li>
<li>Sometimes EVERYTHING</li>
</ul>
<p><strong>Our app can show different &quot;pages&quot; based on state</strong></p>
<ul>
<li>Completely different &quot;pages&quot;</li>
<li>Or just different parts</li>
<li>&quot;Screens&quot;, &quot;views&quot;, &quot;pages&quot; <ul>
<li>No actual terminology</li>
</ul>
</li>
</ul>
</section>

<section id="composing-content-composing" class="slide" data-has-notes="false">
<h1>Composing Content</h1><p>How to organize when you have options for content?</p>
<ul>
<li>Example:<ul>
<li>If user is NOT logged in:<ul>
<li>Show Login Form to login</li>
</ul>
</li>
<li>If user IS logged in:<ul>
<li>Show &quot;content&quot; </li>
<li>Show Logout button</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>

<section id="composing-content-conditional-example" class="slide" data-has-notes="false">
<h1>A Conditional Example</h1><pre><code><span class="hljs-keyword">const</span> [isLoggedIn, setIsLoggedIn] = useState(<span class="hljs-literal">false</span>);
<span class="hljs-keyword">const</span> [username, setUsername] = useState(<span class="hljs-string">''</span>);
<span class="hljs-keyword">return</span> ( <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
  { isLoggedIn
    ? <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        Hello {username}
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setIsLoggedIn(false)}&gt;Logout<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    : <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"missing-here-for-clarity"</span>&gt;</span>  
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Username: <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
            <span class="hljs-attr">value</span>=<span class="hljs-string">{username}</span> 
            <span class="hljs-attr">onInput</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setUsername(e.target.value)}
          /&gt;
        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
          <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> 
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setIsLoggedIn(true)}
        &gt;Login<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
   }
<span class="hljs-tag">&lt;/&gt;</span></span>);
</code></pre>
</section>

<section id="composing-content-messy" class="slide" data-has-notes="false">
<h1>That was messy</h1><ul>
<li>Worked</li>
<li>Hard to read</li>
<li>Annoying to decipher</li>
</ul>
<p>Solution: Move parts to different components</p>
</section>
</section>

<section id="chapter-changing-up" class="chapter">
<section id="changing-up-better-conditional" class="slide" data-has-notes="false">
<h1>A Better Conditional Example</h1><pre><code><span class="hljs-keyword">import</span> Content <span class="hljs-keyword">from</span> <span class="hljs-string">'./Content'</span>;
<span class="hljs-keyword">import</span> Login <span class="hljs-keyword">from</span> <span class="hljs-string">'./Login'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>{ 
  <span class="hljs-keyword">const</span> [isLoggedIn, setIsLoggedIn] = useState(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> [username, setUsername] = useState(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"app"</span>&gt;</span>
      { isLoggedIn
        ? <span class="hljs-tag">&lt;<span class="hljs-name">Content</span> 
            <span class="hljs-attr">username</span>=<span class="hljs-string">{username}</span> 
            <span class="hljs-attr">setLoggedIn</span>=<span class="hljs-string">{setLoggedIn}</span> 
          /&gt;</span>
        : <span class="hljs-tag">&lt;<span class="hljs-name">Login</span> 
            <span class="hljs-attr">username</span>=<span class="hljs-string">{username}</span> 
            <span class="hljs-attr">setUsername</span>=<span class="hljs-string">{setUsername}</span>
            <span class="hljs-attr">setLoggedIn</span>=<span class="hljs-string">{setLoggedIn}</span>
          /&gt;</span>
      }
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
</section>

<section id="changing-up-parts" class="slide" data-has-notes="false">
<h1>The other components</h1><pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Content</span>(<span class="hljs-params">{ username, setLoggedIn }</span>) </span>{
  <span class="hljs-keyword">return</span> ( <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    Hello {username}
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> 
      setIsLoggedIn(false)}&gt;Logout<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>);
}
</code></pre><pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Login</span>(<span class="hljs-params">{ username, setUsername, setIsLoggedIn }</span>) </span>{ 
  <span class="hljs-keyword">return</span> ( <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Username: <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{username}</span> 
        <span class="hljs-attr">onInput</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setUsername(e.target.value)}/&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> 
      <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setIsLoggedIn(true)}&gt;Login<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>);
}
</code></pre>
</section>

<section id="changing-up-tightly-coupled" class="slide" data-has-notes="false">
<h1>Those are too tightly coupled</h1><pre><code>  <span class="hljs-keyword">const</span> onLogin = <span class="hljs-function">(<span class="hljs-params">loginName</span>) =&gt;</span> { 
    setUsername(loginName);
    setIsLoggedIn(<span class="hljs-literal">true</span>);
  };
  <span class="hljs-keyword">const</span> onLogout = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> setIsLoggedIn(<span class="hljs-literal">false</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"app"</span>&gt;</span>
      { isLoggedIn
        ? <span class="hljs-tag">&lt;<span class="hljs-name">Content</span> 
            <span class="hljs-attr">username</span>=<span class="hljs-string">{username}</span> 
            <span class="hljs-attr">onLogout</span>=<span class="hljs-string">{onLogout}</span>
          /&gt;</span>
        : <span class="hljs-tag">&lt;<span class="hljs-name">Login</span> 
            <span class="hljs-attr">onLogin</span>=<span class="hljs-string">{onLogin}</span>
          /&gt;</span>
      }
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
</section>

<section id="changing-up-loosely-coupled" class="slide" data-has-notes="false">
<h1>The decoupled parts</h1><pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Content</span>(<span class="hljs-params">{ username, onLogout }</span>) </span>{
  <span class="hljs-keyword">return</span> ( <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    Hello {username}
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onLogout}</span>&gt;</span>Logout<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>);
}
</code></pre><pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Login</span>(<span class="hljs-params">{ onLogin }</span>) </span>{ 
  <span class="hljs-keyword">const</span> [loginName, setLoginName] = useState(<span class="hljs-string">''</span>); <span class="hljs-comment">// State!</span>
  <span class="hljs-keyword">return</span> ( <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Username: <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{loginName}</span> 
        <span class="hljs-attr">onInput</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setLoginName(e.target.value)}/&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> 
      <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> onLogin(loginName)}&gt;Login<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>);
}
</code></pre>
</section>

<section id="changing-up-state-per-component" class="slide" data-has-notes="false">
<h1>Each component can have state</h1><p>See the <code>useState()</code> here!</p>
<ul>
<li>Distinct from the username of <code>App</code></li>
<li>Allows for internal behavior<ul>
<li>Here, name-as-you-type</li>
</ul>
</li>
</ul>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Login</span>(<span class="hljs-params">{ onLogin }</span>) </span>{ 
  <span class="hljs-keyword">const</span> [loginName, setLoginName] = useState(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">return</span> ( <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Username: <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{loginName}</span> 
        <span class="hljs-attr">onInput</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setLoginName(e.target.value)}/&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> 
      <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> onLogin(loginName)}&gt;Login<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>);
</code></pre>
</section>
</section>

<section id="chapter-placing-state" class="chapter">
<section id="placing-state-declare-state" class="slide" data-has-notes="false">
<h1>Where should you <code>useState()</code>?</h1><ul>
<li>Usually &quot;nearest common ancestor&quot; Component</li>
<li>Pass state/setters/wrappers through children </li>
</ul>
<pre><code class="lang-plaintext">ComponentA
- ComponentB 
  - ComponentD (uses stateB)
  - ComponentE (uses stateB, stateC)
  - ComponentF (uses stateC)
- ComponentC (uses stateA)
  - ComponentD (uses stateB)
  - ComponentD (uses stateB)
</code></pre>
<ul>
<li><code>ComponentC</code> is <strong>stateA</strong> &quot;nearest common ancestor&quot;</li>
<li><code>ComponentA</code> is <strong>stateB</strong> &quot;nearest common ancestor&quot;</li>
<li><code>ComponentB</code> is <strong>stateC</strong> &quot;nearest common ancestor&quot;</li>
</ul>
</section>

<section id="placing-state-real" class="slide" data-has-notes="false">
<h1>Often a LOT of state ends up at &quot;top&quot;</h1><ul>
<li>Most state lives in App.jsx<ul>
<li>Most state matters to most Components</li>
<li>Pass abstracted wrappers<ul>
<li>Other options soon</li>
</ul>
</li>
</ul>
</li>
<li>Temp state like &quot;as you are typing&quot; username<ul>
<li>Kept out of top level state (App.jsx)</li>
<li>Declared in their specialized components<ul>
<li>Passed to ancestors as needed</li>
<li>Example: the <code>onLogin</code> prop</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
</section>

<section id="chapter-fixing-submit" class="chapter">
<section id="fixing-submit-issue" class="slide" data-has-notes="false">
<h1>Our React Code still has an issue</h1><ul>
<li><strong>Enter</strong> on Login clears but fails to Login<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Login</span>(<span class="hljs-params">{ onLogin }</span>) </span>{ 
<span class="hljs-keyword">const</span> [loginName, setLoginName] = useState(<span class="hljs-string">''</span>);
<span class="hljs-keyword">return</span> ( <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span> 
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Username: <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{loginName}</span> 
      <span class="hljs-attr">onInput</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setLoginName(e.target.value)}/&gt;
  <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> 
    <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> onLogin(loginName)}&gt;Login<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>);
}
</code></pre></li>
<li>This is HTML/JS issue, not React!</li>
<li>&#39;Enter&#39; on field submits form<ul>
<li>Reloading page in browser</li>
<li>We are only reacting to button click</li>
</ul>
</li>
</ul>
</section>

<section id="fixing-submit-resolving" class="slide" data-has-notes="false">
<h1>Fixing the Issue</h1><ul>
<li>We could remove the <code>&lt;form&gt;</code><ul>
<li>Reducing user options, not an improvement</li>
</ul>
</li>
<li>on <code>submit</code> event<ul>
<li><code>preventDefault</code></li>
<li>React passes event object to handler<ul>
<li>Just like without React</li>
</ul>
</li>
<li><code>onSubmit</code></li>
</ul>
</li>
</ul>
</section>

<section id="fixing-submit-prevent-default" class="slide" data-has-notes="false">
<h1>Preventing Default</h1><pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Login</span>(<span class="hljs-params">{ onLogin }</span>) </span>{ 
  <span class="hljs-keyword">const</span> [loginName, setLoginName] = useState(<span class="hljs-string">''</span>);

  <span class="hljs-keyword">return</span> ( 
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{</span> (<span class="hljs-attr">e</span>) =&gt;</span> { 
        e.preventDefault();
    }}&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Username: <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
          <span class="hljs-attr">value</span>=<span class="hljs-string">{loginName}</span> 
          <span class="hljs-attr">onInput</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setLoginName(e.target.value)}
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> 
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> onLogin(loginName)}&gt;Login<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  );
}
</code></pre>
</section>

<section id="fixing-submit-use-submit" class="slide" data-has-notes="false">
<h1>Making Login work on Submit</h1><pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Login</span>(<span class="hljs-params">{ onLogin }</span>) </span>{ 
  <span class="hljs-keyword">const</span> [loginName, setLoginName] = useState(<span class="hljs-string">''</span>);

  <span class="hljs-keyword">return</span> ( 
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{</span> (<span class="hljs-attr">e</span>) =&gt;</span> { 
        e.preventDefault();
        onLogin(loginName);
    }}&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Username: <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
          <span class="hljs-attr">value</span>=<span class="hljs-string">{loginName}</span> 
          <span class="hljs-attr">onInput</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setLoginName(e.target.value)}
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Login<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  );
}
</code></pre>
</section>
</section>

<section id="chapter-summary" class="chapter">
<section id="summary-state" class="slide" data-has-notes="false">
<h1>Summary - State</h1><ul>
<li><code>import { useState } from &#39;react&#39;;</code></li>
<li><code>useState()</code> is a React <strong>hook</strong></li>
<li>Pass <code>useState()</code> initial value for a state variable</li>
<li>Returns array of two parts<ul>
<li>We <strong>destucture</strong> array into two variables</li>
<li>State value ( a COPY )</li>
<li>Setter function</li>
</ul>
</li>
<li>State value will be:<ul>
<li>Last value passed to setter function</li>
<li>useState() argument if setter never called</li>
</ul>
</li>
</ul>
</section>

<section id="summary-changing-state" class="slide" data-has-notes="false">
<h1>Summary - Changing State</h1><ul>
<li>Component returns HTML based on state<ul>
<li><strong>conditional rendering</strong></li>
</ul>
</li>
<li>Can have multiple <code>useState()</code> calls<ul>
<li>Each a different state variable</li>
</ul>
</li>
<li>When state changes, component <strong>rerenders</strong></li>
<li>set <code>onEVENT</code> (onClick, onSubmit, etc) props <ul>
<li>If set on &quot;native&quot; HTML element<ul>
<li>Callback called when event on element</li>
</ul>
</li>
<li>Callback can call setter to change state</li>
</ul>
</li>
</ul>
</section>

<section id="summary-conditional" class="slide" data-has-notes="false">
<h1>Conditional Rendering</h1><ul>
<li>Can&#39;t use <code>if ()</code> in <code>{}</code></li>
<li>React renders value from <code>{}</code><ul>
<li>Will not render <code>false</code>, <code>null</code>, <code>undefined</code></li>
</ul>
</li>
<li>Logical ops in <code>{}</code> can conditionally render JSX<ul>
<li>Watch out for <code>0</code> or <code>NaN</code></li>
<li>Convert to boolean OR</li>
<li>Use conditional operator</li>
</ul>
</li>
<li>Conditional operator in <code>{}</code> conditionally renders</li>
</ul>
</section>

<section id="summary-passing-state" class="slide" data-has-notes="false">
<h1>Summary - Passing State</h1><p>A Component</p>
<ul>
<li>Can pass state as props to other components</li>
<li>CANNOT call setter functions they don&#39;t have</li>
<li>CAN be passed functions as props</li>
<li>CAN pass setter functions to other components</li>
<li>CAN pass wrapper functions to other components</li>
</ul>
</section>
</section></div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
      controls: true,
      progress: true,
      history: true,
      center: true,

      transition: Reveal.getQueryHash().transition || 'slide', // none/fade/slide/convex/concave/zoom

      // Optional reveal.js plugins
      dependencies: [
        //{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        //{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        //{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
        { src: 'plugin/zoom-js/zoom.js', async: true },
        { src: 'plugin/notes/notes.js', async: true }
      ]
    });
    </script>

    <script src="js/dynamic-theme.js"></script><script src="js/custom.js"></script>

  </body>
</html>
