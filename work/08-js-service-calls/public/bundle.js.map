{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://08-js-service-calls/./src/services.js","webpack://08-js-service-calls/webpack/bootstrap","webpack://08-js-service-calls/webpack/runtime/define property getters","webpack://08-js-service-calls/webpack/runtime/hasOwnProperty shorthand","webpack://08-js-service-calls/webpack/runtime/make namespace object","webpack://08-js-service-calls/./src/demo.js"],"sourcesContent":["// This is a sample file that demonstrates\r\n// how you can write an abstraction around\r\n// a fetch() call\r\n// This exported function returns a promise\r\n// that resolves with data\r\n// or rejects with an error object\r\n//\r\n// The caller of this function can decide\r\n// what to do with the data\r\n// or what to do with the error\r\n//\r\n// You can add to this file and use this function\r\n// or write your own files/functions\r\n\"use strict\";\r\n\r\nexport const errorMessages = {\r\n  \"auth-missing\": \"You must be logged in\",\r\n  \"required-username\": \"You must provide a valid username\",\r\n  \"auth-insufficient\": \"Dog is not allowed\",\r\n  \"invalid-word\": \"This word is invalid\",\r\n  \"required-word\": \"Word is required\",\r\n  \"network-error\": \"There's a network error occurred. Please try again.\",\r\n};\r\n\r\nexport function fetchLogin(username) {\r\n  return (\r\n    fetch(\"/api/session/\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"content-type\": \"application/json\", // set this header when sending JSON in the body of request\r\n      },\r\n      body: JSON.stringify({ username }),\r\n    })\r\n      // fetch() rejects on network error\r\n      // So we convert that to a formatted error object\r\n      // so our caller can handle all \"errors\" in a similar way\r\n      .catch(() => Promise.reject({ error: \"network-error\" }))\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          // response.ok checks the status code from the service\r\n          // This service returns JSON on errors,\r\n          // so we use that as the error object and reject\r\n          return response.json().then((err) => Promise.reject(err));\r\n        }\r\n        return response.json(); // happy status code means resolve with data from service\r\n      })\r\n  );\r\n}\r\n\r\nexport function fetchLogout() {\r\n  return fetch(\"/api/session/\", {\r\n    method: \"DELETE\",\r\n  })\r\n    .catch(() => Promise.reject({ error: \"network-error\" }))\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        return response.json().then((err) => Promise.reject(err));\r\n      }\r\n      return response.json();\r\n    });\r\n}\r\n\r\nexport function fetchSession() {\r\n  return fetch(\"/api/session/\")\r\n    .catch(() => Promise.reject({ error: \"network-error\" }))\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        return response.json().then((err) => Promise.reject(err));\r\n      }\r\n      return response.json();\r\n    });\r\n}\r\n\r\nexport function fetchCurrentStoredWord() {\r\n  return fetch(\"/api/word/\")\r\n    .catch(() => Promise.reject({ error: \"network-error\" }))\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        return response.json().then((err) => Promise.reject(err));\r\n      }\r\n      return response.json();\r\n    });\r\n}\r\n\r\nexport function fetchUpdateStoredWord(word) {\r\n  return fetch(\"/api/word/\", {\r\n    method: \"PUT\",\r\n    headers: new Headers({\r\n      \"content-type\": \"application/json\",\r\n    }),\r\n    body: JSON.stringify({ word }),\r\n  })\r\n    .catch(() => Promise.reject({ error: \"network-error\" }))\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        return response.json().then((err) => Promise.reject(err));\r\n      }\r\n      return response.json();\r\n    });\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\r\n\r\nimport {\r\n  fetchLogin,\r\n  fetchLogout,\r\n  fetchSession,\r\n  fetchCurrentStoredWord,\r\n  fetchUpdateStoredWord,\r\n  errorMessages,\r\n} from \"./services.js\";\r\n\r\nconst errorMsg = document.querySelector(\".error-message\");\r\nconst userLoginEl = document.querySelector(\"#user-login-form\");\r\nconst userDataContetEl = document.querySelector(\"#user-data-content\");\r\nconst usernameInputEl = document.querySelector(\"#username-input\");\r\nconst userwordInputEl = document.querySelector(\"#userword-input\");\r\nconst loginButtonEl = document.querySelector(\"#login-button\");\r\nconst logoutButtonEl = document.querySelector(\"#logout-button\");\r\nconst updateButtonEl = document.querySelector(\"#update-word-button\");\r\n\r\naddLogin();\r\nlogoutUser();\r\nupdateWord();\r\nloadPage();\r\n\r\nfunction loadPage() {\r\n  fetchSession()\r\n    .then((data) => {\r\n      errorMsg.innerHTML = \"\";\r\n      showUserDataPage(data.username);\r\n    })\r\n    .catch((err) => {\r\n      errorMsg.innerHTML = errorMessages[err.error];\r\n    });\r\n}\r\n\r\nfunction addLogin() {\r\n  loginButtonEl.addEventListener(\"click\", () => {\r\n    const username = usernameInputEl.value;\r\n    usernameInputEl.value = \"\";\r\n    fetchLogin(username)\r\n      .then((user) => {\r\n        errorMsg.innerHTML = \"\";\r\n        showUserDataPage(user.username);\r\n      })\r\n      .catch((err) => {\r\n        errorMsg.innerHTML = errorMessages[err.error];\r\n      });\r\n  });\r\n}\r\n\r\nfunction logoutUser() {\r\n  logoutButtonEl.addEventListener(\"click\", () => {\r\n    fetchLogout()\r\n      .then(() => {\r\n        errorMsg.innerHTML = \"\";\r\n        toggleLoginAndOut();\r\n      })\r\n      .catch((err) => {\r\n        errorMsg.innerHTML = errorMessages[err.error];\r\n      });\r\n  });\r\n}\r\n\r\nfunction updateWord() {\r\n  updateButtonEl.addEventListener(\"click\", () => {\r\n    const word = userwordInputEl.value;\r\n    fetchUpdateStoredWord(word)\r\n      .then((data) => {\r\n        errorMsg.innerHTML = \"\";\r\n        renderContent(data.username, data.storedWord);\r\n        userwordInputEl.value = \"\";\r\n      })\r\n      .catch((err) => {\r\n        errorMsg.innerHTML = errorMessages[err.error];\r\n      });\r\n  });\r\n}\r\n\r\nfunction toggleLoginAndOut() {\r\n  userLoginEl.classList.toggle(\"hidden\");\r\n  userDataContetEl.classList.toggle(\"hidden\");\r\n}\r\n\r\nfunction showUserDataPage() {\r\n  fetchCurrentStoredWord()\r\n    .then((data) => {\r\n      renderContent(data.username, data.storedWord);\r\n      toggleLoginAndOut();\r\n      errorMsg.innerHTML = \"\";\r\n    })\r\n    .catch((err) => {\r\n      errorMsg.innerHTML = errorMessages[err.error];\r\n    });\r\n}\r\n\r\nfunction renderContent(username, storedWord) {\r\n  const currentStoredWordEl = document.querySelector(\".current-storedword\");\r\n  if (storedWord) {\r\n    currentStoredWordEl.innerHTML = `Your stored word is \"${storedWord}\".`;\r\n  } else {\r\n    currentStoredWordEl.innerHTML = `Welcome, ${username}. No stored word found.`;\r\n  }\r\n}\r\n"],"names":["errorMessages","fetchLogin","username","fetch","method","headers","body","JSON","stringify","Promise","reject","error","then","response","ok","json","err","fetchLogout","fetchSession","fetchCurrentStoredWord","fetchUpdateStoredWord","word","Headers","errorMsg","document","querySelector","userLoginEl","userDataContetEl","usernameInputEl","userwordInputEl","loginButtonEl","logoutButtonEl","updateButtonEl","addLogin","logoutUser","updateWord","loadPage","data","innerHTML","showUserDataPage","addEventListener","value","user","toggleLoginAndOut","renderContent","storedWord","classList","toggle","currentStoredWordEl","concat"],"sourceRoot":""}