{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAO,IAAMA,MAAM,GAAG;EACpBC,YAAY,EAAE,cAAc;EAC5BC,iBAAiB,EAAE,mBAAmB;EACtCC,iBAAiB,EAAE,mBAAmB;EACtCC,gBAAgB,EAAE,kBAAkB;EACpCC,eAAe,EAAE;AACnB,CAAC;AAEM,IAAMC,MAAM,GAAG;EACpBC,aAAa,EAAE,cAAc;EAC7BC,UAAU,EAAE;AACd,CAAC;AAEM,IAAMC,QAAQ,GAAAC,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,KAClBJ,MAAM,CAACC,aAAa,EAAG,6CAA6C,GACpEP,MAAM,CAACC,YAAY,EAAG,4BAA4B,GAClDD,MAAM,CAACE,iBAAiB,EAAG,4BAA4B,GACvDF,MAAM,CAACG,iBAAiB,EAAG,gCAAgC,GAC3DH,MAAM,CAACI,gBAAgB,EAAG,yBAAyB,cAC3C,yCAAyC,CACnD;;;;;;;;;;;;;;;;;;;;;ACpB8C;AAO3B;AASH;AACiD;AAE3D,SAASsB,iBAAiBA,CAAAC,IAAA,EAAmB;EAAA,IAAhBC,KAAK,GAAAD,IAAA,CAALC,KAAK;IAAEC,KAAK,GAAAF,IAAA,CAALE,KAAK;EAC9CA,KAAK,CAACC,gBAAgB,CAAC,QAAQ,EAAE,UAACC,CAAC,EAAK;IACtC,IAAI,CAACA,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,aAAa,CAAC,EAAE;IACjDH,CAAC,CAACI,cAAc,CAAC,CAAC;IAElB,IAAMC,QAAQ,GAAGP,KAAK,CAACQ,aAAa,CAAC,kBAAkB,CAAC,CAACC,KAAK;IAC9DrB,mDAAW,CAAC,CAAC;IACbM,kDAAS,CAAC;MAAEK,KAAK,EAALA,KAAK;MAAEC,KAAK,EAALA;IAAM,CAAC,CAAC;IAC3BlB,qDAAU,CAACyB,QAAQ,CAAC,CACjBG,IAAI,CAAC,UAACC,QAAQ,EAAK;MAClBpB,6CAAK,CAACgB,QAAQ,CAAC;MACflB,mDAAW,CAACsB,QAAQ,CAAC;MACrBjB,kDAAS,CAAC;QAAEK,KAAK,EAALA,KAAK;QAAEC,KAAK,EAALA;MAAM,CAAC,CAAC;IAC7B,CAAC,CAAC,SACI,CAAC,UAACY,GAAG,EAAK;MACdtB,gDAAQ,CAAC,CAAAsB,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEC,KAAK,KAAI,OAAO,CAAC;MAC/BnB,kDAAS,CAAC;QAAEK,KAAK,EAALA,KAAK;QAAEC,KAAK,EAALA;MAAM,CAAC,CAAC;IAC7B,CAAC,CAAC;EACN,CAAC,CAAC;AACJ;AAEO,SAASc,kBAAkBA,CAAAC,KAAA,EAAmB;EAAA,IAAhBhB,KAAK,GAAAgB,KAAA,CAALhB,KAAK;IAAEC,KAAK,GAAAe,KAAA,CAALf,KAAK;EAC/CA,KAAK,CAACC,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;IACrC,IAAI,CAACA,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;IAEtDb,8CAAM,CAAC,CAAC;IACRE,kDAAS,CAAC;MAAEK,KAAK,EAALA,KAAK;MAAEC,KAAK,EAALA;IAAM,CAAC,CAAC;IAC3BjB,sDAAW,CAAC,CAAC,SAAM,CAAC,UAAC6B,GAAG,EAAK;MAC3B,IAAMI,YAAY,GAAGpC,gDAAQ,CAACgC,GAAG,CAACC,KAAK,CAAC,IAAIjC,gDAAQ,WAAQ;MAC5DU,gDAAQ,CAAC0B,YAAY,CAAC;MACtBtB,kDAAS,CAAC;QAAEK,KAAK,EAALA,KAAK;QAAEC,KAAK,EAALA;MAAM,CAAC,CAAC;IAC7B,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAEO,SAASiB,mBAAmBA,CAAAC,KAAA,EAAmB;EAAA,IAAhBnB,KAAK,GAAAmB,KAAA,CAALnB,KAAK;IAAEC,KAAK,GAAAkB,KAAA,CAALlB,KAAK;EAChDA,KAAK,CAACC,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;IACrC,IAAI,CAACA,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,mBAAmB,CAAC,EAAE;IAEvDlB,sDAAc,CAAC,CAAC;IAChBQ,uDAAc,CAAC;MAAEI,KAAK,EAALA,KAAK;MAAEC,KAAK,EAALA;IAAM,CAAC,CAAC;IAEhChB,wDAAa,CAAC,CAAC,CACZ0B,IAAI,CAAC,UAACC,QAAQ,EAAK;MAClBtB,mDAAW,CAACsB,QAAQ,CAAC;MACrB,OAAO1B,qDAAU,CAAC,CAAC;IACrB,CAAC,CAAC,CACDyB,IAAI,CAAC,UAACS,KAAK,EAAK;MACfC,QAAQ,CAACD,KAAK,CAAC;MACfxB,uDAAc,CAAC;QAAEI,KAAK,EAALA,KAAK;QAAEC,KAAK,EAALA;MAAM,CAAC,CAAC;MAChCJ,oDAAW,CAAC;QAAEG,KAAK,EAALA,KAAK;QAAEC,KAAK,EAALA;MAAM,CAAC,CAAC;IAC/B,CAAC,CAAC,SACI,CAAC,UAACY,GAAG,EAAK;MACd,IAAMI,YAAY,GAAGpC,gDAAQ,CAACgC,GAAG,CAACC,KAAK,CAAC,IAAIjC,gDAAQ,WAAQ;MAC5DU,gDAAQ,CAAC0B,YAAY,CAAC;MACtBrB,uDAAc,CAAC;QAAEI,KAAK,EAALA,KAAK;QAAEC,KAAK,EAALA;MAAM,CAAC,CAAC;MAChCJ,oDAAW,CAAC;QAAEG,KAAK,EAALA,KAAK;QAAEC,KAAK,EAALA;MAAM,CAAC,CAAC;IAC/B,CAAC,CAAC;EACN,CAAC,CAAC;AACJ;AAEO,SAASqB,sBAAsBA,CAAAC,KAAA,EAAmB;EAAA,IAAhBvB,KAAK,GAAAuB,KAAA,CAALvB,KAAK;IAAEC,KAAK,GAAAsB,KAAA,CAALtB,KAAK;EACnDA,KAAK,CAACC,gBAAgB,CAAC,QAAQ,EAAE,UAACC,CAAC,EAAK;IACtC,IAAI,CAACA,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,WAAW,CAAC,EAAE;IAC/CH,CAAC,CAACI,cAAc,CAAC,CAAC;IAElB,IAAMiB,WAAW,GAAGvB,KAAK,CAACQ,aAAa,CAAC,eAAe,CAAC,CAACC,KAAK;IAC9DvB,0DAAe,CAACqC,WAAW,CAAC,CACzBb,IAAI,CAAC,UAACc,OAAO,EAAK;MACjB/B,kDAAU,CAAC+B,OAAO,CAAC;MACnB7B,uDAAc,CAAC;QAAEI,KAAK,EAALA,KAAK;QAAEC,KAAK,EAALA;MAAM,CAAC,CAAC;MAChCA,KAAK,CAACQ,aAAa,CAAC,eAAe,CAAC,CAACC,KAAK,GAAG,EAAE;IACjD,CAAC,CAAC,SACI,CAAC,UAACG,GAAG,EAAK;MACd,IAAMI,YAAY,GAAGpC,gDAAQ,CAACgC,GAAG,CAACC,KAAK,CAAC,IAAIjC,gDAAQ,WAAQ;MAC5DU,gDAAQ,CAAC0B,YAAY,CAAC;MACtBrB,uDAAc,CAAC;QAAEI,KAAK,EAALA,KAAK;QAAEC,KAAK,EAALA;MAAM,CAAC,CAAC;IAClC,CAAC,CAAC;EACN,CAAC,CAAC;AACJ;;;;;;;;;;;;;;;;AClGA,SAASN,SAASA,CAAAI,IAAA,EAAmB;EAAA,IAAhBC,KAAK,GAAAD,IAAA,CAALC,KAAK;IAAEC,KAAK,GAAAF,IAAA,CAALE,KAAK;EAC/BA,KAAK,CAACyB,SAAS,8FAAAC,MAAA,CAKTC,kBAAkB,CAAC5B,KAAK,CAAC,cAAA2B,MAAA,CACzBE,iBAAiB,CAAC7B,KAAK,CAAC,sBAAA2B,MAAA,CAGxB3B,KAAK,CAAC8B,UAAU,gNAOZ,EAAE,cAAAH,MAAA,CAGN3B,KAAK,CAAC8B,UAAU,wJAAAH,MAAA,CAIuCI,oBAAoB,CACrE/B,KACF,CAAC,+IAAA2B,MAAA,CAG+CK,oBAAoB,CAClEhC,KACF,CAAC,sDAGD,EAAE,cAAA2B,MAAA,CAEN3B,KAAK,CAAC8B,UAAU,GAAGG,iBAAiB,CAAC,CAAC,GAAG,EAAE,sBAEhD;AACH;AAEA,SAASpC,WAAWA,CAAAmB,KAAA,EAAY;EAAA,IAAThB,KAAK,GAAAgB,KAAA,CAALhB,KAAK;EAC1B,IAAMkC,cAAc,GAAGC,QAAQ,CAAC1B,aAAa,CAAC,kBAAkB,CAAC;EACjE,IAAIyB,cAAc,EAAE;IAClBA,cAAc,CAACR,SAAS,GAAGK,oBAAoB,CAAC/B,KAAK,CAAC;EACxD;AACF;AAEA,SAASJ,cAAcA,CAAAuB,KAAA,EAAY;EAAA,IAATnB,KAAK,GAAAmB,KAAA,CAALnB,KAAK;EAC7B,IAAMoC,iBAAiB,GAAGD,QAAQ,CAAC1B,aAAa,CAAC,qBAAqB,CAAC;EACvE,IAAIT,KAAK,CAACqC,gBAAgB,EAAE;IAC1B,IAAID,iBAAiB,EAAE;MACrBA,iBAAiB,CAACV,SAAS,8GAI1B;IACH;IACA;EACF;EAEA,IAAIU,iBAAiB,EAAE;IACrBA,iBAAiB,CAACV,SAAS,GAAGM,oBAAoB,CAAChC,KAAK,CAAC;EAC3D;AACF;AAEA,SAAS4B,kBAAkBA,CAAC5B,KAAK,EAAE;EACjC,gCAAA2B,MAAA,CAA8B3B,KAAK,CAACc,KAAK;AAC3C;AAEA,SAASe,iBAAiBA,CAAC7B,KAAK,EAAE;EAChC,IAAIA,KAAK,CAACsC,cAAc,EAAE;IACxB;EACF;EACA,IAAItC,KAAK,CAAC8B,UAAU,EAAE;IACpB;EACF;EACA;AAYF;AAEA,SAASC,oBAAoBA,CAAC/B,KAAK,EAAE;EACnC,OAAOuC,MAAM,CAACC,MAAM,CAACxC,KAAK,CAACoB,KAAK,CAAC,CAC9BqB,GAAG,CACF,UAACC,IAAI;IAAA,sDAAAf,MAAA,CAEOe,IAAI,CAACC,MAAM,eAAAhB,MAAA,CAAUe,IAAI,CAAClC,QAAQ,sEAAAmB,MAAA,CACrBe,IAAI,CAAClC,QAAQ;EAAA,CAGxC,CAAC,CACAoC,IAAI,CAAC,EAAE,CAAC;AACb;AAEA,SAASZ,oBAAoBA,CAAChC,KAAK,EAAE;EACnC,+CAAA2B,MAAA,CAEMY,MAAM,CAACC,MAAM,CAACxC,KAAK,CAACY,QAAQ,CAAC,CAC5B6B,GAAG,CACF,UAACI,GAAG;IAAA,gHAAAlB,MAAA,CAGYkB,GAAG,CAACF,MAAM,eAAAhB,MAAA,CAAUkB,GAAG,CAACrC,QAAQ,4EAAAmB,MAAA,CACnBkB,GAAG,CAACrC,QAAQ,2EAAAmB,MAAA,CAEXkB,GAAG,CAACC,IAAI;EAAA,CAGxC,CAAC,CACAF,IAAI,CAAC,EAAE,CAAC;AAGjB;AAEA,SAASX,iBAAiBA,CAAA,EAAG;EAC3B;AAMF;;;;;;;;;;;;;;;;;;;;ACnIO,SAAS9C,eAAeA,CAAC2D,IAAI,EAAE;EACpC,OAAOC,KAAK,CAAC,kBAAkB,EAAE;IAC/BC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE,IAAIC,OAAO,CAAC;MAAE,cAAc,EAAE;IAAmB,CAAC,CAAC;IAC5DC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEP,IAAI,EAAJA;IAAK,CAAC;EAC/B,CAAC,CAAC,SACM,CAAC;IAAA,OAAMQ,OAAO,CAACC,MAAM,CAAC;MAAEzC,KAAK,EAAE;IAAe,CAAC,CAAC;EAAA,EAAC,CACtDH,IAAI,CAAC,UAAC6C,QAAQ,EAAK;IAClB,IAAIA,QAAQ,CAACC,EAAE,EAAE;MACf,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;IACxB;IACA,OAAOF,QAAQ,CACZE,IAAI,CAAC,CAAC,SACD,CAAC,UAAC5C,KAAK;MAAA,OAAKwC,OAAO,CAACC,MAAM,CAAC;QAAEzC,KAAK,EAALA;MAAM,CAAC,CAAC;IAAA,EAAC,CAC3CH,IAAI,CAAC,UAACE,GAAG;MAAA,OAAKyC,OAAO,CAACC,MAAM,CAAC1C,GAAG,CAAC;IAAA,EAAC;EACvC,CAAC,CAAC;AACN;AAEO,SAAS5B,aAAaA,CAAA,EAAG;EAC9B,OAAO8D,KAAK,CAAC,kBAAkB,CAAC,SACxB,CAAC;IAAA,OAAMO,OAAO,CAACC,MAAM,CAAC;MAAEzC,KAAK,EAAE;IAAe,CAAC,CAAC;EAAA,EAAC,CACtDH,IAAI,CAAC,UAAC6C,QAAQ,EAAK;IAClB,IAAIA,QAAQ,CAACC,EAAE,EAAE;MACf,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;IACxB;IACA,OAAOF,QAAQ,CACZE,IAAI,CAAC,CAAC,SACD,CAAC,UAAC5C,KAAK;MAAA,OAAKwC,OAAO,CAACC,MAAM,CAAC;QAAEzC,KAAK,EAALA;MAAM,CAAC,CAAC;IAAA,EAAC,CAC3CH,IAAI,CAAC,UAACE,GAAG;MAAA,OAAKyC,OAAO,CAACC,MAAM,CAAC1C,GAAG,CAAC;IAAA,EAAC;EACvC,CAAC,CAAC;AACN;AAEO,SAAS8C,YAAYA,CAAA,EAAG;EAC7B,OAAOZ,KAAK,CAAC,iBAAiB,EAAE;IAAEC,MAAM,EAAE;EAAM,CAAC,CAAC,SAC1C,CAAC;IAAA,OAAMM,OAAO,CAACC,MAAM,CAAC;MAAEzC,KAAK,EAAE;IAAe,CAAC,CAAC;EAAA,EAAC,CACtDH,IAAI,CAAC,UAAC6C,QAAQ,EAAK;IAClB,IAAIA,QAAQ,CAACC,EAAE,EAAE;MACf,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;IACxB;IACA,OAAOF,QAAQ,CACZE,IAAI,CAAC,CAAC,SACD,CAAC,UAAC5C,KAAK;MAAA,OAAKwC,OAAO,CAACC,MAAM,CAAC;QAAEzC,KAAK,EAALA;MAAM,CAAC,CAAC;IAAA,EAAC,CAC3CH,IAAI,CAAC,UAACE,GAAG;MAAA,OAAKyC,OAAO,CAACC,MAAM,CAAC1C,GAAG,CAAC;IAAA,EAAC;EACvC,CAAC,CAAC;AACN;AAEO,SAAS7B,WAAWA,CAAA,EAAG;EAC5B,OAAO+D,KAAK,CAAC,iBAAiB,EAAE;IAAEC,MAAM,EAAE;EAAS,CAAC,CAAC,SAC7C,CAAC;IAAA,OAAMM,OAAO,CAACC,MAAM,CAAC;MAAEzC,KAAK,EAAE;IAAe,CAAC,CAAC;EAAA,EAAC,CACtDH,IAAI,CAAC,UAAC6C,QAAQ,EAAK;IAClB,IAAIA,QAAQ,CAACC,EAAE,EAAE;MACf,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;IACxB;IACA,OAAOF,QAAQ,CACZE,IAAI,CAAC,CAAC,SACD,CAAC,UAAC5C,KAAK;MAAA,OAAKwC,OAAO,CAACC,MAAM,CAAC;QAAEzC,KAAK,EAALA;MAAM,CAAC,CAAC;IAAA,EAAC,CAC3CH,IAAI,CAAC,UAACE,GAAG;MAAA,OAAKyC,OAAO,CAACC,MAAM,CAAC1C,GAAG,CAAC;IAAA,EAAC;EACvC,CAAC,CAAC;AACN;AAEO,SAAS9B,UAAUA,CAACyB,QAAQ,EAAE;EACnC,OAAOuC,KAAK,CAAC,iBAAiB,EAAE;IAC9BC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE,IAAIC,OAAO,CAAC;MACnB,cAAc,EAAE;IAClB,CAAC,CAAC;IACFC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAE7C,QAAQ,EAARA;IAAS,CAAC;EACnC,CAAC,CAAC,SACM,CAAC;IAAA,OAAM8C,OAAO,CAACC,MAAM,CAAC;MAAEzC,KAAK,EAAE;IAAe,CAAC,CAAC;EAAA,EAAC,CACtDH,IAAI,CAAC,UAAC6C,QAAQ,EAAK;IAClB,IAAIA,QAAQ,CAACC,EAAE,EAAE;MACf,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;IACxB;IACA,OAAOF,QAAQ,CACZE,IAAI,CAAC,CAAC,SACD,CAAC,UAAC5C,KAAK;MAAA,OAAKwC,OAAO,CAACC,MAAM,CAAC;QAAEzC,KAAK,EAALA;MAAM,CAAC,CAAC;IAAA,EAAC,CAC3CH,IAAI,CAAC,UAACE,GAAG;MAAA,OAAKyC,OAAO,CAACC,MAAM,CAAC1C,GAAG,CAAC;IAAA,EAAC;EACvC,CAAC,CAAC;AACN;AAEO,SAAS3B,UAAUA,CAAA,EAAG;EAC3B,OAAO6D,KAAK,CAAC,eAAe,CAAC,SACrB,CAAC;IAAA,OAAMO,OAAO,CAACC,MAAM,CAAC;MAAEzC,KAAK,EAAE;IAAe,CAAC,CAAC;EAAA,EAAC,CACtDH,IAAI,CAAC,UAAC6C,QAAQ,EAAK;IAClB,IAAIA,QAAQ,CAACC,EAAE,EAAE;MACf,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;IACxB;IACA,OAAOF,QAAQ,CACZE,IAAI,CAAC,CAAC,SACD,CAAC,UAAC5C,KAAK;MAAA,OAAKwC,OAAO,CAACC,MAAM,CAAC;QAAEzC,KAAK,EAALA;MAAM,CAAC,CAAC;IAAA,EAAC,CAC3CH,IAAI,CAAC,UAACE,GAAG;MAAA,OAAKyC,OAAO,CAACC,MAAM,CAAC1C,GAAG,CAAC;IAAA,EAAC;EACvC,CAAC,CAAC;AACN;;;;;;;;;;;;;;;;;;;;;;;;AC5FuC;AAEvC,IAAMb,KAAK,GAAG;EACZY,QAAQ,EAAE,CAAC,CAAC;EACZQ,KAAK,EAAE,CAAC,CAAC;EACTU,UAAU,EAAE,KAAK;EACjBQ,cAAc,EAAE,IAAI;EACpBD,gBAAgB,EAAE,KAAK;EACvB7B,QAAQ,EAAE,EAAE;EACZoD,gBAAgB,EAAE,EAAE;EACpB9C,KAAK,EAAE;AACT,CAAC;AAEM,SAASzB,WAAWA,CAAA,EAAG;EAC5BW,KAAK,CAAC8B,UAAU,GAAG,KAAK;EACxB9B,KAAK,CAACsC,cAAc,GAAG,IAAI;EAC3BtC,KAAK,CAACQ,QAAQ,GAAG,EAAE;EACnBR,KAAK,CAACY,QAAQ,GAAG,CAAC,CAAC;EACnBZ,KAAK,CAACc,KAAK,GAAG,EAAE;AAClB;AAEO,SAAStB,KAAKA,CAACgB,QAAQ,EAAE;EAC9BR,KAAK,CAAC8B,UAAU,GAAG,IAAI;EACvB9B,KAAK,CAACsC,cAAc,GAAG,KAAK;EAC5BtC,KAAK,CAACQ,QAAQ,GAAGA,QAAQ;EACzBR,KAAK,CAACc,KAAK,GAAG,EAAE;EAChBd,KAAK,CAAC4D,gBAAgB,GAAG,EAAE;AAC7B;AAEO,SAASnE,MAAMA,CAAA,EAAG;EACvBO,KAAK,CAAC8B,UAAU,GAAG,KAAK;EACxB9B,KAAK,CAACsC,cAAc,GAAG,KAAK;EAC5BtC,KAAK,CAACQ,QAAQ,GAAG,EAAE;EACnBR,KAAK,CAACY,QAAQ,GAAG,CAAC,CAAC;EACnBZ,KAAK,CAACc,KAAK,GAAG,EAAE;AAClB;AAEO,SAAS1B,cAAcA,CAAA,EAAG;EAC/BY,KAAK,CAACY,QAAQ,GAAG,CAAC,CAAC;EACnBZ,KAAK,CAACqC,gBAAgB,GAAG,IAAI;EAC7BrC,KAAK,CAACc,KAAK,GAAG,EAAE;AAClB;AAEO,SAASxB,WAAWA,CAACsB,QAAQ,EAAE;EACpCZ,KAAK,CAACY,QAAQ,GAAGA,QAAQ;EACzBZ,KAAK,CAACqC,gBAAgB,GAAG,KAAK;EAC9BrC,KAAK,CAACc,KAAK,GAAG,EAAE;EAChBd,KAAK,CAAC4D,gBAAgB,GAAG,EAAE;AAC7B;AAEO,SAASC,cAAcA,CAAA9D,IAAA,EAAkB;EAAA,IAAf+D,EAAE,GAAA/D,IAAA,CAAF+D,EAAE;IAAErC,OAAO,GAAA1B,IAAA,CAAP0B,OAAO;EAC1CzB,KAAK,CAACY,QAAQ,CAACkD,EAAE,CAAC,GAAGrC,OAAO;EAC5BzB,KAAK,CAACc,KAAK,GAAG,EAAE;EAChBd,KAAK,CAAC4D,gBAAgB,GAAG,EAAE;AAC7B;AAEO,SAASlE,UAAUA,CAAC+B,OAAO,EAAE;EAClCzB,KAAK,CAACY,QAAQ,CAACa,OAAO,CAACqC,EAAE,CAAC,GAAGrC,OAAO;EACpCzB,KAAK,CAACc,KAAK,GAAG,EAAE;EAChBd,KAAK,CAAC4D,gBAAgB,GAAGnC,OAAO,CAACqC,EAAE;AACrC;AAEO,SAASzC,QAAQA,CAACD,KAAK,EAAE;EAC9BpB,KAAK,CAACoB,KAAK,GAAGA,KAAK;AACrB;AAEO,SAAS7B,QAAQA,CAACuB,KAAK,EAAE;EAC9B,IAAI,CAACA,KAAK,EAAE;IACVd,KAAK,CAACc,KAAK,GAAG,EAAE;IAChB;EACF;EACAd,KAAK,CAACsC,cAAc,GAAG,KAAK;EAC5BtC,KAAK,CAACqC,gBAAgB,GAAG,KAAK;EAC9BrC,KAAK,CAACc,KAAK,GAAGjC,gDAAQ,CAACiC,KAAK,CAAC,IAAIjC,gDAAQ,WAAQ;AACnD;AAEA,iEAAemB,KAAK;;;;;;UC5EpB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;ACN+C;AACyB;AACH;AACH;AAM7C;AAErB,IAAMC,KAAK,GAAGkC,QAAQ,CAAC1B,aAAa,CAAC,MAAM,CAAC;AAE5C,SAASsD,aAAaA,CAAA,EAAG;EACvBC,eAAe,CAAC,CAAC;EACjBC,mBAAmB,CAAC,CAAC;EACrBC,cAAc,CAAC,CAAC;AAClB;AAEA,SAASF,eAAeA,CAAA,EAAG;EACzBL,uDAAY,CAAC,CAAC,CACXhD,IAAI,CAAC,UAACwD,OAAO,EAAK;IACjB3E,6CAAK,CAAC2E,OAAO,CAAC3D,QAAQ,CAAC;IACvBb,kDAAS,CAAC;MAAEK,KAAK,EAALA,8CAAK;MAAEC,KAAK,EAALA;IAAM,CAAC,CAAC;IAC3B,OAAOhB,wDAAa,CAAC,CAAC;EACxB,CAAC,CAAC,CACD0B,IAAI,CAAC,UAACC,QAAQ,EAAK;IAClBtB,mDAAW,CAACsB,QAAQ,CAAC;IACrBhB,uDAAc,CAAC;MAAEI,KAAK,EAALA,8CAAK;MAAEC,KAAK,EAALA;IAAM,CAAC,CAAC;EAClC,CAAC,CAAC,CACDU,IAAI,CAAC,UAACS,KAAK,EAAK;IACfC,gDAAQ,CAACD,KAAK,CAAC;IACfvB,oDAAW,CAAC;MAAEG,KAAK,EAALA,8CAAK;MAAEC,KAAK,EAALA;IAAM,CAAC,CAAC;EAC/B,CAAC,CAAC,SACI,CAAC,UAACY,GAAG,EAAK;IACd,IAAMI,YAAY,GAAGpC,gDAAQ,CAACgC,GAAG,CAACC,KAAK,CAAC,IAAIjC,gDAAQ,WAAQ;IAC5DU,gDAAQ,CAAC0B,YAAY,CAAC;IACtBtB,kDAAS,CAAC;MAAEK,KAAK,EAALA,8CAAK;MAAEC,KAAK,EAALA;IAAM,CAAC,CAAC;EAC7B,CAAC,CAAC;AACN;AAEA,SAASgE,mBAAmBA,CAAA,EAAG;EAC7BnE,6DAAiB,CAAC;IAAEE,KAAK,EAALA,8CAAK;IAAEC,KAAK,EAALA;EAAM,CAAC,CAAC;EACnCc,8DAAkB,CAAC;IAAEf,KAAK,EAALA,8CAAK;IAAEC,KAAK,EAALA;EAAM,CAAC,CAAC;EACpCqB,kEAAsB,CAAC;IAAEtB,KAAK,EAALA,8CAAK;IAAEC,KAAK,EAALA;EAAM,CAAC,CAAC;EACxCiB,+DAAmB,CAAC;IAAElB,KAAK,EAALA,8CAAK;IAAEC,KAAK,EAALA;EAAM,CAAC,CAAC;AACvC;AAEA,SAASiE,cAAcA,CAAA,EAAG;EACxBE,WAAW,CAAC,YAAM;IAChBnF,wDAAa,CAAC,CAAC,CACZ0B,IAAI,CAAC,UAACC,QAAQ,EAAK;MAClBtB,mDAAW,CAACsB,QAAQ,CAAC;MACrBhB,uDAAc,CAAC;QAAEI,KAAK,EAALA,8CAAK;QAAEC,KAAK,EAALA;MAAM,CAAC,CAAC;IAClC,CAAC,CAAC,SACI,CAAC,YAAM;MACX,IAAMgB,YAAY,GAAGpC,gDAAQ,CAACH,8CAAM,CAACC,aAAa,CAAC,IAAIE,gDAAQ,WAAQ;MACvEU,gDAAQ,CAAC0B,YAAY,CAAC;MACtBrB,uDAAc,CAAC;QAAEI,KAAK,EAALA,8CAAK;QAAEC,KAAK,EAALA;MAAM,CAAC,CAAC;IAClC,CAAC,CAAC;IAEJf,qDAAU,CAAC,CAAC,CACTyB,IAAI,CAAC,UAACS,KAAK,EAAK;MACfC,gDAAQ,CAACD,KAAK,CAAC;MACfvB,oDAAW,CAAC;QAAEG,KAAK,EAALA,8CAAK;QAAEC,KAAK,EAALA;MAAM,CAAC,CAAC;IAC/B,CAAC,CAAC,SACI,CAAC,YAAM;MACXV,gDAAQ,CAACV,gDAAQ,CAACH,8CAAM,CAACC,aAAa,CAAC,IAAIE,gDAAQ,WAAQ,CAAC;MAC5DgB,oDAAW,CAAC;QAAEG,KAAK,EAALA,8CAAK;QAAEC,KAAK,EAALA;MAAM,CAAC,CAAC;IAC/B,CAAC,CAAC;EACN,CAAC,EAAE,IAAI,CAAC;AACV;AAEA8D,aAAa,CAAC,CAAC,C","sources":["webpack://project2/./src/constants.js","webpack://project2/./src/listeners.js","webpack://project2/./src/render.js","webpack://project2/./src/services.js","webpack://project2/./src/state.js","webpack://project2/webpack/bootstrap","webpack://project2/webpack/runtime/define property getters","webpack://project2/webpack/runtime/hasOwnProperty shorthand","webpack://project2/webpack/runtime/make namespace object","webpack://project2/./src/chat.js"],"sourcesContent":["export const SERVER = {\r\n  AUTH_MISSING: \"auth-missing\",\r\n  AUTH_INSUFFICIENT: \"auth-insufficient\",\r\n  REQUIRED_USERNAME: \"required-username\",\r\n  REQUIRED_MESSAGE: \"required-message\",\r\n  MESSAGE_MISSING: \"message-missing\",\r\n};\r\n\r\nexport const CLIENT = {\r\n  NETWORK_ERROR: \"networkError\",\r\n  NO_SESSION: \"noSession\",\r\n};\r\n\r\nexport const MESSAGES = {\r\n  [CLIENT.NETWORK_ERROR]: \"Network connection error. Please try again.\",\r\n  [SERVER.AUTH_MISSING]: \"Please log in to continue.\",\r\n  [SERVER.AUTH_INSUFFICIENT]: \"Username is not permitted.\",\r\n  [SERVER.REQUIRED_USERNAME]: \"Please enter a valid username.\",\r\n  [SERVER.REQUIRED_MESSAGE]: \"Please enter a message.\",\r\n  default: \"Something went wrong. Please try again.\",\r\n};\r\n","import { SERVER, MESSAGES } from \"./constants\";\r\nimport {\r\n  fetchLogin,\r\n  fetchLogout,\r\n  fetchMessages,\r\n  fetchUsers,\r\n  fetchAddMessage,\r\n} from \"./services\";\r\nimport {\r\n  waitOnMessages,\r\n  waitOnLogin,\r\n  setMessages,\r\n  setError,\r\n  login,\r\n  logout,\r\n  addMessage,\r\n} from \"./state\";\r\nimport { renderApp, renderMessages, renderUsers } from \"./render\";\r\n\r\nexport function addAbilityToLogin({ state, appEl }) {\r\n  appEl.addEventListener(\"submit\", (e) => {\r\n    if (!e.target.classList.contains(\"login__form\")) return;\r\n    e.preventDefault();\r\n\r\n    const username = appEl.querySelector(\".login__username\").value;\r\n    waitOnLogin();\r\n    renderApp({ state, appEl });\r\n    fetchLogin(username)\r\n      .then((messages) => {\r\n        login(username);\r\n        setMessages(messages);\r\n        renderApp({ state, appEl });\r\n      })\r\n      .catch((err) => {\r\n        setError(err?.error || \"ERROR\");\r\n        renderApp({ state, appEl });\r\n      });\r\n  });\r\n}\r\n\r\nexport function addAbilityToLogout({ state, appEl }) {\r\n  appEl.addEventListener(\"click\", (e) => {\r\n    if (!e.target.classList.contains(\"controls__logout\")) return;\r\n\r\n    logout();\r\n    renderApp({ state, appEl });\r\n    fetchLogout().catch((err) => {\r\n      const errorMessage = MESSAGES[err.error] || MESSAGES.default;\r\n      setError(errorMessage);\r\n      renderApp({ state, appEl });\r\n    });\r\n  });\r\n}\r\n\r\nexport function addAbilityToRefresh({ state, appEl }) {\r\n  appEl.addEventListener(\"click\", (e) => {\r\n    if (!e.target.classList.contains(\"controls__refresh\")) return;\r\n\r\n    waitOnMessages();\r\n    renderMessages({ state, appEl });\r\n\r\n    fetchMessages()\r\n      .then((messages) => {\r\n        setMessages(messages);\r\n        return fetchUsers();\r\n      })\r\n      .then((users) => {\r\n        setUsers(users);\r\n        renderMessages({ state, appEl });\r\n        renderUsers({ state, appEl });\r\n      })\r\n      .catch((err) => {\r\n        const errorMessage = MESSAGES[err.error] || MESSAGES.default;\r\n        setError(errorMessage);\r\n        renderMessages({ state, appEl });\r\n        renderUsers({ state, appEl });\r\n      });\r\n  });\r\n}\r\n\r\nexport function addAbilityToAddMessage({ state, appEl }) {\r\n  appEl.addEventListener(\"submit\", (e) => {\r\n    if (!e.target.classList.contains(\"add__form\")) return;\r\n    e.preventDefault();\r\n\r\n    const messageText = appEl.querySelector(\".add__message\").value;\r\n    fetchAddMessage(messageText)\r\n      .then((message) => {\r\n        addMessage(message);\r\n        renderMessages({ state, appEl });\r\n        appEl.querySelector(\".add__message\").value = \"\";\r\n      })\r\n      .catch((err) => {\r\n        const errorMessage = MESSAGES[err.error] || MESSAGES.default;\r\n        setError(errorMessage);\r\n        renderMessages({ state, appEl });\r\n      });\r\n  });\r\n}\r\n","function renderApp({ state, appEl }) {\r\n  appEl.innerHTML = `\r\n    <main class=\"chat-container\">\r\n      \r\n      <h1>Chatty Cat</h1>\r\n      \r\n      ${generateStatusHtml(state)}\r\n      ${generateLoginHtml(state)}\r\n      \r\n      ${\r\n        state.isLoggedIn\r\n          ? `\r\n          <div class=\"controls-row\">\r\n            <button class=\"controls__logout\">Logout</button>\r\n            <button class=\"controls__refresh\">Refresh</button>\r\n          </div>\r\n          `\r\n          : \"\"\r\n      }\r\n      ${\r\n        state.isLoggedIn\r\n          ? `\r\n          <div class=\"content-row\">\r\n            <div class=\"users-column\">\r\n            <h2>Active Cats</h2><div class=\"users-container\">${generateUserListHtml(\r\n              state\r\n            )}</div>\r\n              </div>\r\n              <div class=\"messages-column\">\r\n            <h2>Meows</h2><div class=\"messages-container\">${generateMessagesHtml(\r\n              state\r\n            )}</div>\r\n              </div>\r\n          </div>`\r\n          : \"\"\r\n      }\r\n      ${state.isLoggedIn ? generateInputHtml() : \"\"}\r\n    </main>\r\n  `;\r\n}\r\n\r\nfunction renderUsers({ state }) {\r\n  const usersContainer = document.querySelector(\".users-container\");\r\n  if (usersContainer) {\r\n    usersContainer.innerHTML = generateUserListHtml(state);\r\n  }\r\n}\r\n\r\nfunction renderMessages({ state }) {\r\n  const messagesContainer = document.querySelector(\".messages-container\");\r\n  if (state.isMessagePending) {\r\n    if (messagesContainer) {\r\n      messagesContainer.innerHTML = `\r\n        <div class=\"message__waiting\">\r\n          <p>Loading messages...</p> \r\n        </div>\r\n      `;\r\n    }\r\n    return;\r\n  }\r\n\r\n  if (messagesContainer) {\r\n    messagesContainer.innerHTML = generateMessagesHtml(state);\r\n  }\r\n}\r\n\r\nfunction generateStatusHtml(state) {\r\n  return `<div class=\"status\">${state.error}</div>`;\r\n}\r\n\r\nfunction generateLoginHtml(state) {\r\n  if (state.isLoginPending) {\r\n    return `<div class=\"login__waiting\">Loading user...</div>`;\r\n  }\r\n  if (state.isLoggedIn) {\r\n    return ``;\r\n  }\r\n  return `\r\n    <div class=\"login\">\r\n      <form class=\"login__form\" action=\"#login\">\r\n        <label>\r\n          <span>Username:</span>\r\n          <input class=\"login__username\" value=\"\">\r\n        </label>\r\n        <button class=\"login__button\" type=\"submit\">Login</button>\r\n        \r\n      </form>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction generateUserListHtml(state) {\r\n  return Object.values(state.users)\r\n    .map(\r\n      (user) => `\r\n    <li class=\"user\">\r\n      <img src=\"${user.imgUrl}\" alt=\"${user.username}'s avatar\" class=\"avatar\" />\r\n      <span class=\"username\">${user.username}</span>\r\n    </li>\r\n  `\r\n    )\r\n    .join(\"\");\r\n}\r\n\r\nfunction generateMessagesHtml(state) {\r\n  return `\r\n    <ul class=\"messages\">\r\n      ${Object.values(state.messages)\r\n        .map(\r\n          (msg) => `\r\n          <li class=\"message\">\r\n            <div class=\"sender-info\">\r\n              <img src=\"${msg.imgUrl}\" alt=\"${msg.username}'s avatar\" class=\"avatar\">\r\n              <span class=\"username\">${msg.username}</span>\r\n            </div>\r\n            <div class=\"message-text\">${msg.text}</div>\r\n          </li>\r\n        `\r\n        )\r\n        .join(\"\")}\r\n    </ul>\r\n  `;\r\n}\r\n\r\nfunction generateInputHtml() {\r\n  return `\r\n    <form class=\"add__form\"> \r\n      <input type=\"text\" class=\"add__message\" placeholder=\"Type a message\">\r\n      <button type=\"submit\">Send</button>\r\n    </form>\r\n  `;\r\n}\r\n\r\nexport { renderApp, renderUsers, renderMessages };\r\n","export function fetchAddMessage(text) {\r\n  return fetch(\"/api/v1/messages\", {\r\n    method: \"POST\",\r\n    headers: new Headers({ \"content-type\": \"application/json\" }),\r\n    body: JSON.stringify({ text }),\r\n  })\r\n    .catch(() => Promise.reject({ error: \"networkError\" }))\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return response\r\n        .json()\r\n        .catch((error) => Promise.reject({ error }))\r\n        .then((err) => Promise.reject(err));\r\n    });\r\n}\r\n\r\nexport function fetchMessages() {\r\n  return fetch(\"/api/v1/messages\")\r\n    .catch(() => Promise.reject({ error: \"networkError\" }))\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return response\r\n        .json()\r\n        .catch((error) => Promise.reject({ error }))\r\n        .then((err) => Promise.reject(err));\r\n    });\r\n}\r\n\r\nexport function fetchSession() {\r\n  return fetch(\"/api/v1/session\", { method: \"GET\" })\r\n    .catch(() => Promise.reject({ error: \"networkError\" }))\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return response\r\n        .json()\r\n        .catch((error) => Promise.reject({ error }))\r\n        .then((err) => Promise.reject(err));\r\n    });\r\n}\r\n\r\nexport function fetchLogout() {\r\n  return fetch(\"/api/v1/session\", { method: \"DELETE\" })\r\n    .catch(() => Promise.reject({ error: \"networkError\" }))\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return response\r\n        .json()\r\n        .catch((error) => Promise.reject({ error }))\r\n        .then((err) => Promise.reject(err));\r\n    });\r\n}\r\n\r\nexport function fetchLogin(username) {\r\n  return fetch(\"/api/v1/session\", {\r\n    method: \"POST\",\r\n    headers: new Headers({\r\n      \"content-type\": \"application/json\",\r\n    }),\r\n    body: JSON.stringify({ username }),\r\n  })\r\n    .catch(() => Promise.reject({ error: \"networkError\" }))\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return response\r\n        .json()\r\n        .catch((error) => Promise.reject({ error }))\r\n        .then((err) => Promise.reject(err));\r\n    });\r\n}\r\n\r\nexport function fetchUsers() {\r\n  return fetch(\"/api/v1/users\")\r\n    .catch(() => Promise.reject({ error: \"networkError\" }))\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return response\r\n        .json()\r\n        .catch((error) => Promise.reject({ error }))\r\n        .then((err) => Promise.reject(err));\r\n    });\r\n}\r\n","import { MESSAGES } from \"./constants\";\r\n\r\nconst state = {\r\n  messages: {},\r\n  users: {},\r\n  isLoggedIn: false,\r\n  isLoginPending: true,\r\n  isMessagePending: false,\r\n  username: \"\",\r\n  lastAddedMessage: \"\",\r\n  error: \"\",\r\n};\r\n\r\nexport function waitOnLogin() {\r\n  state.isLoggedIn = false;\r\n  state.isLoginPending = true;\r\n  state.username = \"\";\r\n  state.messages = {};\r\n  state.error = \"\";\r\n}\r\n\r\nexport function login(username) {\r\n  state.isLoggedIn = true;\r\n  state.isLoginPending = false;\r\n  state.username = username;\r\n  state.error = \"\";\r\n  state.lastAddedMessage = \"\";\r\n}\r\n\r\nexport function logout() {\r\n  state.isLoggedIn = false;\r\n  state.isLoginPending = false;\r\n  state.username = \"\";\r\n  state.messages = {};\r\n  state.error = \"\";\r\n}\r\n\r\nexport function waitOnMessages() {\r\n  state.messages = {};\r\n  state.isMessagePending = true;\r\n  state.error = \"\";\r\n}\r\n\r\nexport function setMessages(messages) {\r\n  state.messages = messages;\r\n  state.isMessagePending = false;\r\n  state.error = \"\";\r\n  state.lastAddedMessage = \"\";\r\n}\r\n\r\nexport function updateMessages({ id, message }) {\r\n  state.messages[id] = message;\r\n  state.error = \"\";\r\n  state.lastAddedMessage = \"\";\r\n}\r\n\r\nexport function addMessage(message) {\r\n  state.messages[message.id] = message;\r\n  state.error = \"\";\r\n  state.lastAddedMessage = message.id;\r\n}\r\n\r\nexport function setUsers(users) {\r\n  state.users = users;\r\n}\r\n\r\nexport function setError(error) {\r\n  if (!error) {\r\n    state.error = \"\";\r\n    return;\r\n  }\r\n  state.isLoginPending = false;\r\n  state.isMessagePending = false;\r\n  state.error = MESSAGES[error] || MESSAGES.default;\r\n}\r\n\r\nexport default state;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { CLIENT, MESSAGES } from \"./constants\";\r\nimport state, { setMessages, setUsers, setError, login } from \"./state\";\r\nimport { fetchSession, fetchMessages, fetchUsers } from \"./services\";\r\nimport { renderApp, renderUsers, renderMessages } from \"./render\";\r\nimport {\r\n  addAbilityToLogin,\r\n  addAbilityToLogout,\r\n  addAbilityToRefresh,\r\n  addAbilityToAddMessage,\r\n} from \"./listeners\";\r\n\r\nconst appEl = document.querySelector(\"#app\");\r\n\r\nfunction initializeApp() {\r\n  checkForSession();\r\n  setupEventListeners();\r\n  pollForUpdates();\r\n}\r\n\r\nfunction checkForSession() {\r\n  fetchSession()\r\n    .then((session) => {\r\n      login(session.username);\r\n      renderApp({ state, appEl });\r\n      return fetchMessages();\r\n    })\r\n    .then((messages) => {\r\n      setMessages(messages);\r\n      renderMessages({ state, appEl });\r\n    })\r\n    .then((users) => {\r\n      setUsers(users);\r\n      renderUsers({ state, appEl });\r\n    })\r\n    .catch((err) => {\r\n      const errorMessage = MESSAGES[err.error] || MESSAGES.default;\r\n      setError(errorMessage);\r\n      renderApp({ state, appEl });\r\n    });\r\n}\r\n\r\nfunction setupEventListeners() {\r\n  addAbilityToLogin({ state, appEl });\r\n  addAbilityToLogout({ state, appEl });\r\n  addAbilityToAddMessage({ state, appEl });\r\n  addAbilityToRefresh({ state, appEl });\r\n}\r\n\r\nfunction pollForUpdates() {\r\n  setInterval(() => {\r\n    fetchMessages()\r\n      .then((messages) => {\r\n        setMessages(messages);\r\n        renderMessages({ state, appEl });\r\n      })\r\n      .catch(() => {\r\n        const errorMessage = MESSAGES[CLIENT.NETWORK_ERROR] || MESSAGES.default;\r\n        setError(errorMessage);\r\n        renderMessages({ state, appEl });\r\n      });\r\n\r\n    fetchUsers()\r\n      .then((users) => {\r\n        setUsers(users);\r\n        renderUsers({ state, appEl });\r\n      })\r\n      .catch(() => {\r\n        setError(MESSAGES[CLIENT.NETWORK_ERROR] || MESSAGES.default);\r\n        renderUsers({ state, appEl });\r\n      });\r\n  }, 5000);\r\n}\r\n\r\ninitializeApp();\r\n"],"names":["SERVER","AUTH_MISSING","AUTH_INSUFFICIENT","REQUIRED_USERNAME","REQUIRED_MESSAGE","MESSAGE_MISSING","CLIENT","NETWORK_ERROR","NO_SESSION","MESSAGES","_defineProperty","fetchLogin","fetchLogout","fetchMessages","fetchUsers","fetchAddMessage","waitOnMessages","waitOnLogin","setMessages","setError","login","logout","addMessage","renderApp","renderMessages","renderUsers","addAbilityToLogin","_ref","state","appEl","addEventListener","e","target","classList","contains","preventDefault","username","querySelector","value","then","messages","err","error","addAbilityToLogout","_ref2","errorMessage","addAbilityToRefresh","_ref3","users","setUsers","addAbilityToAddMessage","_ref4","messageText","message","innerHTML","concat","generateStatusHtml","generateLoginHtml","isLoggedIn","generateUserListHtml","generateMessagesHtml","generateInputHtml","usersContainer","document","messagesContainer","isMessagePending","isLoginPending","Object","values","map","user","imgUrl","join","msg","text","fetch","method","headers","Headers","body","JSON","stringify","Promise","reject","response","ok","json","fetchSession","lastAddedMessage","updateMessages","id","initializeApp","checkForSession","setupEventListeners","pollForUpdates","session","setInterval"],"sourceRoot":""}